

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Análisis exploratorio de Datos &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'eda';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modelado" href="modelado.html" />
    <link rel="prev" title="Welcome to your Jupyter Book" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpg" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.jpg" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Análisis exploratorio de Datos</strong></a></li>

<li class="toctree-l1"><a class="reference internal" href="modelado.html"><strong>Modelado</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="comparaciones.html"><strong>Comparaciones y Conclusiones</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Feda.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/eda.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Análisis exploratorio de Datos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Análisis exploratorio de Datos</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#librerias">Librerías</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sobre-el-dataset">Sobre el dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-distribucion-de-clases">Análisis de Distribución de Clases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conteo-y-longitudes-de-texto">Conteo y longitudes de texto</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-de-caracteres">Longitud de Caracteres</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conteo-de-palabras">Conteo de Palabras</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-media-de-palabra">Longitud Media de Palabra</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-media-de-oraciones">Longitud media de oraciones</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observaciones-sobre-las-caracteristicas-de-los-textos">Observaciones sobre las características de los textos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-general">Conclusión general</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-frecuencia-de-terminos">Análisis de Frecuencia de Términos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento-de-texto-basico-inicial">Preprocesamiento de texto básico inicial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#palabras-mas-frecuentes-top-n">Palabras más Frecuentes (Top N)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#word-clouds">Word Clouds</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#frecuencia-por-clase">Frecuencia por Clase</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ruido-estructural-y-palabras-de-lista-negra">1.  Ruido Estructural y Palabras de Lista Negra</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#terminos-de-ruido-estructurales-comunes">Términos de Ruido/Estructurales Comunes</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#palabras-predictivas-y-distintivas-por-categoria">2.  Palabras Predictivas y Distintivas por Categoría</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#n-gramas">N-gramas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusiones-clave-del-analisis-de-n-gramas">Conclusiones Clave del Análisis de N-gramas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#accountant-vs-finance">ACCOUNTANT vs. FINANCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#information-technology-vs-engineering">INFORMATION-TECHNOLOGY vs. ENGINEERING</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tokenizacion-y-vectoriacion"><strong>Tokenización y Vectoriación</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manejo-del-desbalance-de-clases-data-augmentation">1. Manejo del Desbalance de Clases (Data Augmentation)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#division-estratificada-y-prevencion-de-data-leakage">2. División Estratificada y Prevención de Data Leakage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategia-de-mitigacion-de-ruido-y-control-de-frecuencia">3. Estrategia de Mitigación de Ruido y Control de Frecuencia</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-modelos-basados-en-frecuencia-tf-idf-xgboost">A. Modelos Basados en Frecuencia (TF-IDF + XGBoost)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-modelos-de-deep-learning-bilstm-cnn-1d">B. Modelos de Deep Learning (BiLSTM / CNN-1D)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-modelos-basados-en-transformers-distilbert-roberta">C. Modelos Basados en Transformers (DistilBERT / RoBERTa)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vectorizacion-modular-y-pipeline-controlado">4. Vectorización Modular y Pipeline Controlado</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analisis-exploratorio-de-datos">
<h1><strong>Análisis exploratorio de Datos</strong><a class="headerlink" href="#analisis-exploratorio-de-datos" title="Permalink to this heading">#</a></h1>
<section id="librerias">
<h2>Librerías<a class="headerlink" href="#librerias" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.corpus</span><span class="w"> </span><span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.tokenize</span><span class="w"> </span><span class="kn">import</span> <span class="n">sent_tokenize</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">wordcloud</span><span class="w"> </span><span class="kn">import</span> <span class="n">WordCloud</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>

<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt_tab&#39;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;darkgrid&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>


<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;averaged_perceptron_tagger_eng&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;omw-1.4&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package punkt to /home/sara/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
[nltk_data] Downloading package stopwords to /home/sara/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
[nltk_data] Downloading package wordnet to /home/sara/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
[nltk_data] Downloading package punkt_tab to /home/sara/nltk_data...
[nltk_data]   Package punkt_tab is already up-to-date!
[nltk_data] Downloading package averaged_perceptron_tagger_eng to
[nltk_data]     /home/sara/nltk_data...
[nltk_data]   Package averaged_perceptron_tagger_eng is already up-to-
[nltk_data]       date!
[nltk_data] Downloading package wordnet to /home/sara/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
[nltk_data] Downloading package omw-1.4 to /home/sara/nltk_data...
[nltk_data]   Package omw-1.4 is already up-to-date!
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="sobre-el-dataset">
<h2>Sobre el dataset<a class="headerlink" href="#sobre-el-dataset" title="Permalink to this heading">#</a></h2>
<p>El dataset utilizado contiene más de 2,400 currículos en formato de texto, cada uno con un identificador único y disponible también en HTML. Los currículos están categorizados según distintas áreas laborales, como Recursos Humanos, Diseño, Tecnología de la Información, Educación, Legal, Salud, Finanzas, Ventas, Ingeniería, entre otras.</p>
<p>Este conjunto de datos permite analizar y clasificar automáticamente los currículos según el perfil profesional, sirviendo como base para el desarrollo de modelos de aprendizaje automático en clasificación de empleo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datos/Resume.csv&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Resume_str</th>
      <th>Resume_html</th>
      <th>Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16852973</td>
      <td>HR ADMINISTRATOR/MARKETING ASSOCIATE\...</td>
      <td>&lt;div class="fontsize fontface vmargins hmargin...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22323967</td>
      <td>HR SPECIALIST, US HR OPERATIONS      ...</td>
      <td>&lt;div class="fontsize fontface vmargins hmargin...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33176873</td>
      <td>HR DIRECTOR       Summary      Over 2...</td>
      <td>&lt;div class="fontsize fontface vmargins hmargin...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>3</th>
      <td>27018550</td>
      <td>HR SPECIALIST       Summary    Dedica...</td>
      <td>&lt;div class="fontsize fontface vmargins hmargin...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17812897</td>
      <td>HR MANAGER         Skill Highlights  ...</td>
      <td>&lt;div class="fontsize fontface vmargins hmargin...</td>
      <td>HR</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Se seleccionaron únicamente las columnas <code class="docutils literal notranslate"><span class="pre">ID</span></code>, <code class="docutils literal notranslate"><span class="pre">Resume_str</span></code> y <code class="docutils literal notranslate"><span class="pre">Category</span></code>. Las columnas <code class="docutils literal notranslate"><span class="pre">Resume_str</span></code> y <code class="docutils literal notranslate"><span class="pre">Category</span></code> se renombraron a <code class="docutils literal notranslate"><span class="pre">text</span></code> y <code class="docutils literal notranslate"><span class="pre">job_category</span></code>, respectivamente, para mayor claridad. Se eliminaron las filas que no contenían texto en la columna <code class="docutils literal notranslate"><span class="pre">text</span></code> y finalmente se muestran los primeros cinco registros para verificar los cambios.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;Resume_str&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Resume_str&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">:</span> <span class="s1">&#39;job_category&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>text</th>
      <th>job_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16852973</td>
      <td>HR ADMINISTRATOR/MARKETING ASSOCIATE\...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22323967</td>
      <td>HR SPECIALIST, US HR OPERATIONS      ...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33176873</td>
      <td>HR DIRECTOR       Summary      Over 2...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>3</th>
      <td>27018550</td>
      <td>HR SPECIALIST       Summary    Dedica...</td>
      <td>HR</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17812897</td>
      <td>HR MANAGER         Skill Highlights  ...</td>
      <td>HR</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 2484 entries, 0 to 2483
Data columns (total 3 columns):
 #   Column        Non-Null Count  Dtype 
---  ------        --------------  ----- 
 0   ID            2484 non-null   int64 
 1   text          2484 non-null   object
 2   job_category  2484 non-null   object
dtypes: int64(1), object(2)
memory usage: 58.3+ KB
</pre></div>
</div>
</div>
</div>
<p>El dataset contiene 2,484 registros con tres columnas: <code class="docutils literal notranslate"><span class="pre">ID</span></code> (identificador único), <code class="docutils literal notranslate"><span class="pre">text</span></code> (contenido del currículo) y <code class="docutils literal notranslate"><span class="pre">job_category</span></code> (categoría laboral). Todas las columnas están completas, sin valores nulos, sin embargo vamos a hacer un análisis más profundo para verificar todos los casos de datos faltantes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    2484.000000
mean      811.325282
std       371.007491
min         0.000000
25%       651.000000
50%       757.000000
75%       933.000000
max      5190.000000
Name: text, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
<section id="valores-faltantes">
<h2>Valores faltantes<a class="headerlink" href="#valores-faltantes" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">detectar_datos_faltantes</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">resumen</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="n">vacíos</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">if</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">blancos</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">texto_nan</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;null&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

        <span class="n">total_faltantes</span> <span class="o">=</span> <span class="n">vacíos</span> <span class="o">+</span> <span class="n">blancos</span> <span class="o">+</span> <span class="n">texto_nan</span>

        <span class="k">if</span> <span class="n">total_faltantes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">resumen</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;columna&#39;</span><span class="p">:</span> <span class="n">col</span><span class="p">,</span>
                <span class="s1">&#39;vacíos&#39;</span><span class="p">:</span> <span class="n">vacíos</span><span class="p">,</span>
                <span class="s1">&#39;blancos&#39;</span><span class="p">:</span> <span class="n">blancos</span><span class="p">,</span>
                <span class="s1">&#39;texto_nan/null&#39;</span><span class="p">:</span> <span class="n">texto_nan</span><span class="p">,</span>
                <span class="s1">&#39;total_faltantes&#39;</span><span class="p">:</span> <span class="n">total_faltantes</span><span class="p">,</span>
                <span class="s1">&#39;porcentaje&#39;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">total_faltantes</span> <span class="o">/</span> <span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="p">})</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">resumen</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;total_faltantes&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">faltantes</span> <span class="o">=</span> <span class="n">detectar_datos_faltantes</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">faltantes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  columna  vacíos  blancos  texto_nan/null  total_faltantes  porcentaje
0    text       0        1               0                1        0.04
</pre></div>
</div>
</div>
</div>
<p>Se encontró un único registro con contenido en blanco. Dado que es solo un caso, procederemos a eliminarlo para mantener la consistencia del dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-de-distribucion-de-clases">
<h2>Análisis de Distribución de Clases<a class="headerlink" href="#analisis-de-distribucion-de-clases" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">conteo_por_categoria</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;job_category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">conteo_por_categoria</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>job_category
INFORMATION-TECHNOLOGY    120
BUSINESS-DEVELOPMENT      119
ADVOCATE                  118
CHEF                      118
ENGINEERING               118
ACCOUNTANT                118
FINANCE                   118
FITNESS                   117
AVIATION                  117
SALES                     116
BANKING                   115
HEALTHCARE                115
CONSULTANT                115
CONSTRUCTION              112
PUBLIC-RELATIONS          111
HR                        110
DESIGNER                  107
ARTS                      103
TEACHER                   102
APPAREL                    97
DIGITAL-MEDIA              96
AGRICULTURE                63
AUTOMOBILE                 36
BPO                        22
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;job_category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#9c69c2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Categorías de Trabajo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Número de Hojas de Vida&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Categoría&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/dc404a5d49ee1c6f8adf53c90ed52e8de0e822aba12ad252b1d1a23875ce6cdf.png" src="_images/dc404a5d49ee1c6f8adf53c90ed52e8de0e822aba12ad252b1d1a23875ce6cdf.png" />
</div>
</div>
<p>La distribución de las categorías laborales (<code class="docutils literal notranslate"><span class="pre">job_category</span></code>) en el dataset es desbalanceada.</p>
<ul class="simple">
<li><p>Algunas categorías cuentan con un número alto de registros: <code class="docutils literal notranslate"><span class="pre">INFORMATION-TECHNOLOGY</span></code> (120), <code class="docutils literal notranslate"><span class="pre">BUSINESS-DEVELOPMENT</span></code> (119), <code class="docutils literal notranslate"><span class="pre">ADVOCATE</span></code> (118).</p></li>
<li><p>La mayoría de las categorías tienen cantidades medias de registros (100-120).</p></li>
<li><p>Algunas clases están poco representadas, como <code class="docutils literal notranslate"><span class="pre">AUTOMOBILE</span></code> (36) y <code class="docutils literal notranslate"><span class="pre">BPO</span></code> (22).</p></li>
</ul>
</section>
<section id="conteo-y-longitudes-de-texto">
<h2>Conteo y longitudes de texto<a class="headerlink" href="#conteo-y-longitudes-de-texto" title="Permalink to this heading">#</a></h2>
<section id="longitud-de-caracteres">
<h3>Longitud de Caracteres<a class="headerlink" href="#longitud-de-caracteres" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;char_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="conteo-de-palabras">
<h3>Conteo de Palabras<a class="headerlink" href="#conteo-de-palabras" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;word_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="longitud-media-de-palabra">
<h3>Longitud Media de Palabra<a class="headerlink" href="#longitud-media-de-palabra" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;mean_word_length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rev</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">rev</span><span class="o">.</span><span class="n">split</span><span class="p">()]))</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="longitud-media-de-oraciones">
<h3>Longitud media de oraciones<a class="headerlink" href="#longitud-media-de-oraciones" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;mean_sent_length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">rev</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">sent</span><span class="p">)</span> <span class="k">for</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">sent_tokenize</span><span class="p">(</span><span class="n">rev</span><span class="p">)]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>text</th>
      <th>job_category</th>
      <th>char_count</th>
      <th>word_count</th>
      <th>mean_word_length</th>
      <th>mean_sent_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16852973</td>
      <td>HR ADMINISTRATOR/MARKETING ASSOCIATE\...</td>
      <td>HR</td>
      <td>5442</td>
      <td>674</td>
      <td>6.459941</td>
      <td>205.538462</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22323967</td>
      <td>HR SPECIALIST, US HR OPERATIONS      ...</td>
      <td>HR</td>
      <td>5572</td>
      <td>708</td>
      <td>6.307910</td>
      <td>202.074074</td>
    </tr>
    <tr>
      <th>2</th>
      <td>33176873</td>
      <td>HR DIRECTOR       Summary      Over 2...</td>
      <td>HR</td>
      <td>7720</td>
      <td>1017</td>
      <td>6.218289</td>
      <td>199.921053</td>
    </tr>
    <tr>
      <th>3</th>
      <td>27018550</td>
      <td>HR SPECIALIST       Summary    Dedica...</td>
      <td>HR</td>
      <td>2855</td>
      <td>379</td>
      <td>5.997361</td>
      <td>164.823529</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17812897</td>
      <td>HR MANAGER         Skill Highlights  ...</td>
      <td>HR</td>
      <td>9172</td>
      <td>1206</td>
      <td>6.368159</td>
      <td>164.236364</td>
    </tr>
    <tr>
      <th>5</th>
      <td>11592605</td>
      <td>HR GENERALIST       Summary     Dedic...</td>
      <td>HR</td>
      <td>5480</td>
      <td>666</td>
      <td>6.735736</td>
      <td>153.942857</td>
    </tr>
    <tr>
      <th>6</th>
      <td>25824789</td>
      <td>HR MANAGER       Summary    HUMAN RES...</td>
      <td>HR</td>
      <td>5250</td>
      <td>637</td>
      <td>6.872841</td>
      <td>171.966667</td>
    </tr>
    <tr>
      <th>7</th>
      <td>15375009</td>
      <td>HR MANAGER         Professional Summa...</td>
      <td>HR</td>
      <td>9033</td>
      <td>1106</td>
      <td>6.813743</td>
      <td>106.277108</td>
    </tr>
    <tr>
      <th>8</th>
      <td>11847784</td>
      <td>HR SPECIALIST       Summary    Posses...</td>
      <td>HR</td>
      <td>6720</td>
      <td>796</td>
      <td>6.988693</td>
      <td>119.000000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>32896934</td>
      <td>HR CLERK       Summary    Translates ...</td>
      <td>HR</td>
      <td>5978</td>
      <td>716</td>
      <td>6.825419</td>
      <td>195.666667</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="observaciones-sobre-las-caracteristicas-de-los-textos">
<h4>Observaciones sobre las características de los textos<a class="headerlink" href="#observaciones-sobre-las-caracteristicas-de-los-textos" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Longitud de los currículos</strong><br />
La columna <code class="docutils literal notranslate"><span class="pre">char_count</span></code> indica la cantidad de caracteres por currículo, que en este conjunto de ejemplo va aproximadamente de 2,855 a 9,172 caracteres. Esto muestra que hay <strong>variabilidad significativa</strong> en el tamaño de los textos, desde resúmenes cortos hasta currículos muy detallados.</p></li>
<li><p><strong>Cantidad de palabras (<code class="docutils literal notranslate"><span class="pre">word_count</span></code>)</strong><br />
El número de palabras oscila entre 379 y 1,206 palabras, lo que coincide con la variabilidad en la longitud de los textos. Los textos más largos no necesariamente tienen palabras más largas, pero sí más información que podría ser relevante para la clasificación.</p></li>
<li><p><strong>Longitud media de palabras (<code class="docutils literal notranslate"><span class="pre">mean_word_length</span></code>)</strong><br />
La longitud promedio de palabra se mantiene bastante estable alrededor de 6 a 7 caracteres. Esto indica un <strong>uso de vocabulario consistente</strong>, sin textos con palabras extremadamente largas o cortas que podrían sesgar embeddings o representaciones.</p></li>
<li><p><strong>Longitud media de oraciones (<code class="docutils literal notranslate"><span class="pre">mean_sent_length</span></code>)</strong><br />
Varía entre aproximadamente 106 y 205 palabras por oración. Algunas filas muestran oraciones extremadamente largas, lo que podría reflejar resúmenes muy densos o falta de puntuación clara en algunos currículos.</p></li>
</ol>
</section>
<section id="conclusion-general">
<h4>Conclusión general<a class="headerlink" href="#conclusion-general" title="Permalink to this heading">#</a></h4>
<p>El dataset presenta <strong>gran heterogeneidad en la longitud de los currículos</strong>, lo que sugiere que:</p>
<ul class="simple">
<li><p>Se podría necesitar <strong>normalización o truncamiento</strong> de texto para entrenar modelos de NLP.</p></li>
<li><p>Los modelos basados en <strong>transformers</strong> pueden manejar bien textos largos, pero para <strong>LSTM o CNN</strong> conviene limitar el tamaño de entrada.</p></li>
<li><p>La consistencia en <code class="docutils literal notranslate"><span class="pre">mean_word_length</span></code> es positiva, ya que facilita la creación de embeddings estables.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">visualize</span><span class="p">(</span><span class="n">col</span><span class="p">):</span>
    <span class="c1"># --- BOX PLOT ---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Paleta personalizada tipo morado pastel</span>
    <span class="n">palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#9c69c2&quot;</span><span class="p">,</span> <span class="s2">&quot;#D5C7EF&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;job_category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">())</span>

    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="n">col</span><span class="p">,</span>
        <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="n">palette</span><span class="p">,</span>
        <span class="n">dodge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">legend</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribución de </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> por Categoría (Boxplot)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Categoría&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    
    <span class="c1"># --- HISTOGRAMA ---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#9c69c2&#39;</span><span class="p">)</span>  
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribución general de </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> (Histograma)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># --- DENSIDAD (KDE) ---</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Pastel2&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribución de densidad de </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> por Categoría (KDE)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Densidad&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;char_count&#39;</span><span class="p">,</span> <span class="s1">&#39;word_count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_word_length&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_sent_length&#39;</span><span class="p">]:</span>
    <span class="n">visualize</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f8bbb967093af339b210b3251d2f587dbcf2bc8d32e84f79e5b59027406171f8.png" src="_images/f8bbb967093af339b210b3251d2f587dbcf2bc8d32e84f79e5b59027406171f8.png" />
<img alt="_images/591f3ecbd7a4394ec178e05f1344795f683a4d8f7908733737bfdfd081eca27e.png" src="_images/591f3ecbd7a4394ec178e05f1344795f683a4d8f7908733737bfdfd081eca27e.png" />
<img alt="_images/c86d7140c01442c2aa4578bd9d3f97a59e60f9491b88ed112de7b4da0c605685.png" src="_images/c86d7140c01442c2aa4578bd9d3f97a59e60f9491b88ed112de7b4da0c605685.png" />
<img alt="_images/2f8a501ec5861e8486645c94641d16d422f0cf5ef855abef9031fc99f318fe1a.png" src="_images/2f8a501ec5861e8486645c94641d16d422f0cf5ef855abef9031fc99f318fe1a.png" />
<img alt="_images/92ad0a33171c0dd8ad8ade1399ddf4ed03243981d5321810d02e259ba760b959.png" src="_images/92ad0a33171c0dd8ad8ade1399ddf4ed03243981d5321810d02e259ba760b959.png" />
<img alt="_images/e2cb9cd0d25b77e4e8529445c0d4a09e62b6a1c92db8e404c2472f9f9e4f40bb.png" src="_images/e2cb9cd0d25b77e4e8529445c0d4a09e62b6a1c92db8e404c2472f9f9e4f40bb.png" />
<img alt="_images/5237835cd08e38a033cf3a51761c30f12530ad196355fdfecdb5f5e9e3063de5.png" src="_images/5237835cd08e38a033cf3a51761c30f12530ad196355fdfecdb5f5e9e3063de5.png" />
<img alt="_images/a40ced5e9480fa8a415df703342ad5f12f100b9b68aa85e00b224b26a058e05b.png" src="_images/a40ced5e9480fa8a415df703342ad5f12f100b9b68aa85e00b224b26a058e05b.png" />
<img alt="_images/c7c75dba8b814889819d2cac60a9323399e847224c3b5b1e4fe2019974d1f8bb.png" src="_images/c7c75dba8b814889819d2cac60a9323399e847224c3b5b1e4fe2019974d1f8bb.png" />
<img alt="_images/9f6e1a50643deef4cc84499bc3501893b67349c04038838643bba5e73136e068.png" src="_images/9f6e1a50643deef4cc84499bc3501893b67349c04038838643bba5e73136e068.png" />
<img alt="_images/d538003ee7b282b516abd59f1b8a74dd7e41d0d770f203a9f541d591f255ee61.png" src="_images/d538003ee7b282b516abd59f1b8a74dd7e41d0d770f203a9f541d591f255ee61.png" />
<img alt="_images/6ddeb402faafc36f8c492bdb0c31919d51df673a7e7f902fdbbdcd98ab9b930c.png" src="_images/6ddeb402faafc36f8c492bdb0c31919d51df673a7e7f902fdbbdcd98ab9b930c.png" />
</div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Métrica</p></th>
<th class="head"><p>Comportamiento Individual</p></th>
<th class="head"><p>Valor Predictivo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Conteo de Caracteres</strong> (<code class="docutils literal notranslate"><span class="pre">char_count</span></code>)</p></td>
<td><p>- Distribución sesgada positivamente, moda entre 5.000 y 7.000 caracteres. <br> - Outliers extremos (hasta 35.000+). <br> - Distribución homogénea por categoría.</p></td>
<td><p>- <strong>Bajo</strong>: no discrimina entre categorías. <br> - Útil para truncamiento, no como feature principal.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Conteo de Palabras</strong> (<code class="docutils literal notranslate"><span class="pre">word_count</span></code>)</p></td>
<td><p>- Distribución similar a <code class="docutils literal notranslate"><span class="pre">char_count</span></code>, moda cercana a 800 palabras. <br> - Outliers frecuentes (hasta 5.000+ palabras). <br> - Alta superposición entre categorías.</p></td>
<td><p>- <strong>Limitado</strong>: no diferencia roles. <br> - Útil para normalizar entradas en modelos con límite de tokens.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Longitud Media de Palabra</strong> (<code class="docutils literal notranslate"><span class="pre">mean_word_length</span></code>)</p></td>
<td><p>- Distribución normal centrada en ~6.3 caracteres. <br> - Variabilidad baja entre categorías. <br> - Outliers simétricos y poco extremos.</p></td>
<td><p>- <strong>Muy bajo</strong>: no discrimina entre categorías. <br> - Puede reflejar tecnicismo, pero no de forma robusta.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Longitud Media de Oración</strong> (<code class="docutils literal notranslate"><span class="pre">mean_sent_length</span></code>)</p></td>
<td><p>- Distribución altamente sesgada, moda cercana a cero. <br> - Afectada por errores de tokenización. <br> - Outliers reflejan ruido de formato.</p></td>
<td><p>- <strong>Nulo</strong>: no refleja diferencias reales. <br> - Útil como indicador de calidad de extracción.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Al evaluar las cuatro métricas de longitud textual: <strong>conteo de caracteres</strong>, <strong>conteo de palabras</strong>, <strong>longitud media de palabra</strong> y <strong>longitud media de oración</strong>. A través de histogramas, boxplots y curvas de densidad (KDE), se ha determinado que estas métricas, aunque útiles para diagnóstico y preprocesamiento, <strong>no poseen valor predictivo significativo</strong> para la clasificación en las 22 categorías laborales del dataset.</p>
<ol class="arabic simple">
<li><p>Homogeneidad en Longitud y Conteo</p></li>
</ol>
<p>Las métricas de <code class="docutils literal notranslate"><span class="pre">char_count</span></code> y <code class="docutils literal notranslate"><span class="pre">word_count</span></code> presentan distribuciones fuertemente asimétricas positivas, con la mayoría de los currículums concentrados entre <strong>5.000–7.000 caracteres</strong> y <strong>600–1.000 palabras</strong>. Los boxplots y KDEs por categoría muestran una <strong>superposición casi total</strong> de medianas e IQRs, lo que indica que la longitud textual es <strong>uniforme entre categorías</strong> como HR, ENGINEERING o AVIATION.</p>
<p><strong>Implicación:</strong> Estas métricas no permiten distinguir entre clases. Aunque útiles para normalizar entradas, no deben considerarse como variables predictivas principales.</p>
<ol class="arabic simple" start="2">
<li><p>Estabilidad vs. Ruido Estructural</p></li>
</ol>
<p>La <strong>longitud media de palabra</strong> (<code class="docutils literal notranslate"><span class="pre">mean_word_length</span></code>) es la métrica más estable, con una distribución normal centrada en ~6.3 caracteres. Aunque se observan ligeras diferencias (e.g., ADVOCATE más alto que DESIGNER), la superposición entre categorías es demasiado grande para ser útil en clasificación.</p>
<p>En contraste, la <strong>longitud media de oración</strong> (<code class="docutils literal notranslate"><span class="pre">mean_sent_length</span></code>) es la más ruidosa y sesgada. La mayoría de los textos presentan valores bajos, y los outliers extremos reflejan errores de tokenización causados por el formato de viñetas típico en currículums. Esta métrica <strong>no refleja estructura lingüística real</strong>, sino artefactos de extracción.</p>
<p><strong>Implicación:</strong> <code class="docutils literal notranslate"><span class="pre">mean_word_length</span></code> puede tener valor como feature auxiliar en modelos multivariados, pero <code class="docutils literal notranslate"><span class="pre">mean_sent_length</span></code> debe tratarse como indicador de calidad de extracción, no como variable de modelado.</p>
<ol class="arabic simple" start="3">
<li><p>Valor Predictivo Conjunto</p></li>
</ol>
<p>Ninguna de las métricas de longitud analizadas permite discriminar eficazmente entre las 22 categorías laborales. Las distribuciones son homogéneas, los outliers son frecuentes pero no informativos, y las diferencias entre sectores son mínimas o inexistentes.</p>
<p><em><strong>Conclusión:</strong></em> El éxito del modelo dependerá exclusivamente del <strong>contenido semántico</strong> de los currículums, no de su estructura superficial. Las métricas de longitud textual han cumplido su rol como herramientas de diagnóstico y limpieza, pero no aportan valor predictivo directo. El proyecto debe avanzar hacia una <strong>ingeniería de features semántica</strong>, donde el contenido —no la forma— sea el motor de la clasificación. Este enfoque garantizará modelos más precisos, interpretables y adaptables a nuevos contextos.</p>
</section>
</section>
</section>
<section id="analisis-de-frecuencia-de-terminos">
<h2>Análisis de Frecuencia de Términos<a class="headerlink" href="#analisis-de-frecuencia-de-terminos" title="Permalink to this heading">#</a></h2>
<section id="preprocesamiento-de-texto-basico-inicial">
<h3>Preprocesamiento de texto básico inicial<a class="headerlink" href="#preprocesamiento-de-texto-basico-inicial" title="Permalink to this heading">#</a></h3>
<p>El próximo paso es realizar un preprocesamiento del texto, donde se normalizará el contenido convirtiéndolo a minúsculas, eliminando puntuación irrelevante y conservando símbolos técnicos, útiles para identificar habilidades. Luego se eliminarán las stopwords en inglés para reducir ruido, y opcionalmente se aplicará stemming para agrupar variantes morfológicas. El resultado será un texto limpio, segmentado y listo para análisis de frecuencia.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_symbol_bigrams</span><span class="p">(</span><span class="n">df_subset</span><span class="p">,</span> <span class="n">symbol</span><span class="p">):</span>
    <span class="n">bigrams</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">df_subset</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]:</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">pairs</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="n">bigrams</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">bg</span> <span class="k">for</span> <span class="n">bg</span> <span class="ow">in</span> <span class="n">pairs</span> <span class="k">if</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">bg</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">Counter</span><span class="p">(</span><span class="n">bigrams</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>

<span class="n">df_amp</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&amp;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">df_slash</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>

<span class="n">bigrams_amp</span> <span class="o">=</span> <span class="n">extract_symbol_bigrams</span><span class="p">(</span><span class="n">df_amp</span><span class="p">,</span> <span class="s1">&#39;&amp;&#39;</span><span class="p">)</span>
<span class="n">bigrams_slash</span> <span class="o">=</span> <span class="n">extract_symbol_bigrams</span><span class="p">(</span><span class="n">df_slash</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bigramas con &#39;&amp;&#39;:&quot;</span><span class="p">,</span> <span class="n">bigrams_amp</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bigramas con &#39;/&#39;:&quot;</span><span class="p">,</span> <span class="n">bigrams_slash</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bigramas con &#39;&amp;&#39;: [((&#39;Training&#39;, &#39;&amp;&#39;), 59), ((&#39;Sales&#39;, &#39;&amp;&#39;), 56), ((&#39;&amp;&#39;, &#39;Development&#39;), 55), ((&#39;Marketing&#39;, &#39;&amp;&#39;), 49), ((&#39;&amp;&#39;, &#39;Marketing&#39;), 44), ((&#39;Management&#39;, &#39;&amp;&#39;), 40), ((&#39;Finance&#39;, &#39;&amp;&#39;), 37), ((&#39;Planning&#39;, &#39;&amp;&#39;), 34), ((&#39;P&#39;, &#39;&amp;&#39;), 32), ((&#39;Design&#39;, &#39;&amp;&#39;), 30), ((&#39;&amp;&#39;, &#39;Management&#39;), 28), ((&#39;&amp;&#39;, &#39;Technology&#39;), 25), ((&#39;I&#39;, &#39;&amp;&#39;), 25), ((&#39;Development&#39;, &#39;&amp;&#39;), 25), ((&#39;Accounting&#39;, &#39;&amp;&#39;), 25)]
Bigramas con &#39;/&#39;: [((&#39;Name&#39;, &#39;/&#39;), 57), ((&#39;Manager&#39;, &#39;/&#39;), 44), ((&#39;/&#39;, &#39;May&#39;), 19), ((&#39;service&#39;, &#39;/&#39;), 18), ((&#39;Management&#39;, &#39;/&#39;), 17), ((&#39;/&#39;, &#39;Project&#39;), 15), ((&#39;Sales&#39;, &#39;/&#39;), 14), ((&#39;Tournament&#39;, &#39;/&#39;), 14), ((&#39;/&#39;, &#39;Business&#39;), 13), ((&#39;Engineer&#39;, &#39;/&#39;), 10), ((&#39;/&#39;, &#39;Company&#39;), 10), ((&#39;MANAGER&#39;, &#39;/&#39;), 10), ((&#39;Coordinator&#39;, &#39;/&#39;), 10), ((&#39;/&#39;, &#39;4.0&#39;), 10), ((&#39;/&#39;, &#39;Office&#39;), 9)]
</pre></div>
</div>
</div>
</div>
<p>Se ha decidido conservar el símbolo <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> durante el preprocesamiento porque aparece con frecuencia en combinaciones semánticamente relevantes dentro de los currículums, como <code class="docutils literal notranslate"><span class="pre">sales</span> <span class="pre">&amp;</span> <span class="pre">marketing</span></code>, <code class="docutils literal notranslate"><span class="pre">research</span> <span class="pre">&amp;</span> <span class="pre">development</span></code>, o <code class="docutils literal notranslate"><span class="pre">food</span> <span class="pre">&amp;</span> <span class="pre">beverage</span></code>. Estas expresiones representan áreas funcionales, departamentos o habilidades compuestas que aportan valor informativo al análisis. Eliminar este símbolo podría fragmentar términos clave y reducir la calidad semántica del corpus, por lo que se mantiene como parte del vocabulario procesado.</p>
<p>De igual forma, se conserva el símbolo <code class="docutils literal notranslate"><span class="pre">/</span></code>, ya que aparece en estructuras organizativas y expresiones técnicas como <code class="docutils literal notranslate"><span class="pre">Name</span> <span class="pre">/</span> <span class="pre">Manager</span></code>, <code class="docutils literal notranslate"><span class="pre">Sales</span> <span class="pre">/</span> <span class="pre">Marketing</span></code>, <code class="docutils literal notranslate"><span class="pre">Coordinator</span> <span class="pre">/</span> <span class="pre">Project</span></code>, o <code class="docutils literal notranslate"><span class="pre">Business</span> <span class="pre">/</span> <span class="pre">Development</span></code>. Estas combinaciones reflejan roles duales, áreas compartidas y funciones compuestas que son comunes en perfiles profesionales. Eliminar <code class="docutils literal notranslate"><span class="pre">/</span></code> podría distorsionar la relación entre conceptos clave, por lo que también se mantiene como parte del texto procesado.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">preprocess</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">stopwords_set</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^\w\s/&amp;]&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">stopwords_set</span><span class="p">:</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords_set</span><span class="p">]</span>

    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

<span class="c1"># Aplicación inicial</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">preprocess</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">preprocess</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Este es un ejemplo de cómo quedaron las hojas de vida luego del preprocesamiento inicial:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;hr administrator/marketing associate hr administrator summary dedicated customer service manager 15 years experience hospitality customer service management respected builder leader customer focused teams strives instill shared enthusiastic commitment customer service highlights focused customer satisfaction team management marketing savvy conflict resolution techniques training development skilled multi tasker client relations specialist accomplishments missouri dot supervisor training certification certified ihg customer loyalty marketing segment hilton worldwide general manager training certification accomplished trainer cross server hospitality systems hilton onq micros opera pms fidelio opera reservation system ors holidex completed courses seminars customer service sales strategies inventory control loss prevention safety time management leadership performance assessment experience hr administrator/marketing associate hr administrator dec 2013 current company name city state helps develop policies directs coordinates activities employment compensation labor relations benefits training employee services prepares employee separation notices related documentation keeps records benefits plans participation insurance pension plan personnel transactions hires promotions transfers performance reviews terminations employee statistics government reporting advises management appropriate resolution employee relations issues administers benefits programs life health dental insurance pension plans vacation sick leave leave absence employee assistance marketing associate designed created marketing collateral sales meetings trade shows company executives managed house advertising program consisting print media collateral pieces assisted complete design launch company website 2 months created official company page facebook facilitate interaction customers analyzed ratings programming features competitors evaluate effectiveness marketing strategies advanced medical claims analyst mar 2012 dec 2013 company name city state reviewed medical bills accuracy treatments tests hospital stays prior sanctioning claims trained interpret codes icd 9 cpt terminology commonly used medical billing fully understand paperwork submitted healthcare providers required organizational analytical skills well computer skills knowledge medical terminology procedures statistics billing standards data analysis laws regarding medical billing assistant general manager jun 2010 dec 2010 company name city state performed duties including limited budgeting financial management accounting human resources payroll purchasing established maintained close working relationships departments hotel ensure maximum operation productivity morale guest service handled daily operations reported directly corporate office hired trained staff overall objectives goals emphasis high customer service marketing advertising working public relations media government local businesses chamber commerce executive support / marketing assistant jul 2007 jun 2010 company name city state provided assistance various department heads executive marketing customer service human resources managed front end operations ensure friendly efficient transactions ensured swift resolution customer issues preserve customer loyalty complying company policies exemplified second none customer service delivery interactions customers potential clients reservation &amp; front office manager jun 2004 jul 2007 company name city state owner/ partner dec 2001 may 2004 company name city state price integrity coordinator aug 1999 dec 2001 company name city state education n/a business administration 1999 jefferson college city state business administration marketing / advertising high school diploma college prep studies 1998 sainte genevieve senior high city state awarded american shrubel leadership scholarship jefferson college skills accounting ads advertising analytical skills benefits billing budgeting clients customer service data analysis delivery documentation employee relations financial management government relations human resources insurance labor relations layout marketing marketing collateral medical billing medical terminology office organizational payroll performance reviews personnel policies posters presentations public relations purchasing reporting statistics website&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="palabras-mas-frecuentes-top-n">
<h3>Palabras más Frecuentes (Top N)<a class="headerlink" href="#palabras-mas-frecuentes-top-n" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_words</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_words</span><span class="p">)</span>
<span class="n">most_common</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">most_common</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;state&#39;, 16134),
 (&#39;company&#39;, 15204),
 (&#39;city&#39;, 15072),
 (&#39;management&#39;, 12076),
 (&#39;name&#39;, 11739),
 (&#39;sales&#39;, 8184),
 (&#39;customer&#39;, 7863),
 (&#39;business&#39;, 7777),
 (&#39;skills&#39;, 7718),
 (&#39;new&#39;, 6379),
 (&#39;service&#39;, 6169),
 (&#39;team&#39;, 6049),
 (&#39;development&#39;, 5666),
 (&#39;experience&#39;, 5625),
 (&#39;training&#39;, 5589),
 (&#39;project&#39;, 5296),
 (&#39;work&#39;, 4804),
 (&#39;&amp;&#39;, 4771),
 (&#39;information&#39;, 4489),
 (&#39;marketing&#39;, 4398)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_top_words</span><span class="p">(</span><span class="n">most_common</span><span class="p">):</span>

    <span class="n">words</span><span class="p">,</span> <span class="n">freqs</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">most_common</span><span class="p">)</span>

    <span class="c1"># Paleta personalizada</span>
    <span class="n">palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#9c69c2&quot;</span><span class="p">,</span> <span class="s2">&quot;#D5C7EF&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">freqs</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">palette</span><span class="o">=</span><span class="n">palette</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="mi">20</span><span class="si">}</span><span class="s1"> palabras más frecuentes en el corpus&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Palabra&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_top_words</span><span class="p">(</span><span class="n">most_common</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d2ca2453043936d7bb73141a5cc308b295bf2501df230f5040f3a5c79e76f4de.png" src="_images/d2ca2453043936d7bb73141a5cc308b295bf2501df230f5040f3a5c79e76f4de.png" />
</div>
</div>
<p>Tras aplicar el preprocesamiento al conjunto de currículums, se identificaron las palabras más frecuentes en el texto. Entre ellas destacan términos como <code class="docutils literal notranslate"><span class="pre">state</span></code>, <code class="docutils literal notranslate"><span class="pre">company</span></code>, <code class="docutils literal notranslate"><span class="pre">city</span></code>, <code class="docutils literal notranslate"><span class="pre">management</span></code>, <code class="docutils literal notranslate"><span class="pre">sales</span></code>, <code class="docutils literal notranslate"><span class="pre">customer</span></code>, <code class="docutils literal notranslate"><span class="pre">business</span></code>, <code class="docutils literal notranslate"><span class="pre">skills</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code>, <code class="docutils literal notranslate"><span class="pre">team</span></code>, <code class="docutils literal notranslate"><span class="pre">development</span></code>, <code class="docutils literal notranslate"><span class="pre">experience</span></code>, <code class="docutils literal notranslate"><span class="pre">training</span></code>, <code class="docutils literal notranslate"><span class="pre">project</span></code>, <code class="docutils literal notranslate"><span class="pre">work</span></code>, <code class="docutils literal notranslate"><span class="pre">information</span></code> y <code class="docutils literal notranslate"><span class="pre">marketing</span></code>. Estas palabras reflejan áreas funcionales, roles laborales, competencias técnicas y organizativas comunes en los perfiles analizados. También se observa una alta frecuencia del símbolo <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, lo que respalda su conservación en el preprocesamiento por su valor semántico en expresiones compuestas como <code class="docutils literal notranslate"><span class="pre">sales</span> <span class="pre">&amp;</span> <span class="pre">marketing</span></code> o <code class="docutils literal notranslate"><span class="pre">research</span> <span class="pre">&amp;</span> <span class="pre">development</span></code>.</p>
</section>
<section id="word-clouds">
<h3>Word Clouds<a class="headerlink" href="#word-clouds" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_wordcloud</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

    <span class="n">palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#9c69c2&quot;</span><span class="p">,</span> <span class="s2">&quot;#D5C7EF&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">palette_rgb</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">palette</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">palette_hex</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#</span><span class="si">%02x%02x%02x</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span> <span class="k">for</span> <span class="n">rgb</span> <span class="ow">in</span> <span class="n">palette_rgb</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">random_color_func</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">font_size</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">orientation</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">palette_hex</span><span class="p">)</span>

    <span class="n">wc</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
        <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
        <span class="n">color_func</span><span class="o">=</span><span class="n">random_color_func</span>
    <span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wc</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Nube de palabras del corpus completo&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_wordcloud</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5d20e3e35c13efd64c982e0d0fea9bc8da05abf458385c9dbed55053ede1031b.png" src="_images/5d20e3e35c13efd64c982e0d0fea9bc8da05abf458385c9dbed55053ede1031b.png" />
</div>
</div>
</section>
<section id="frecuencia-por-clase">
<h3>Frecuencia por Clase<a class="headerlink" href="#frecuencia-por-clase" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">print_top_words_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">cat_col</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_classes</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">top_categories</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">max_classes</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>

    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">top_categories</span><span class="p">:</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">category</span><span class="p">]</span>
        <span class="n">words</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subset</span><span class="p">[</span><span class="n">col</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
        <span class="n">common</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="n">top_n</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🔹 Categoría: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="n">common</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">print_top_words_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">cat_col</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_classes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>🔹 Categoría: INFORMATION-TECHNOLOGY
  management: 893
  information: 857
  technology: 740
  systems: 736
  support: 669
  network: 659
  company: 650
  state: 638
  city: 616
  system: 580

🔹 Categoría: BUSINESS-DEVELOPMENT
  sales: 1434
  business: 1192
  company: 828
  state: 792
  development: 764
  city: 717
  management: 628
  marketing: 611
  new: 609
  name: 565

🔹 Categoría: ADVOCATE
  state: 922
  city: 832
  customer: 734
  company: 730
  name: 620
  service: 537
  skills: 512
  management: 472
  sales: 330
  team: 296

🔹 Categoría: CHEF
  food: 1343
  state: 805
  city: 761
  company: 700
  chef: 675
  name: 594
  kitchen: 582
  service: 476
  management: 460
  staff: 447

🔹 Categoría: ENGINEERING
  engineering: 963
  company: 653
  city: 643
  state: 631
  management: 520
  name: 510
  project: 510
  systems: 431
  team: 407
  design: 402

🔹 Categoría: ACCOUNTANT
  accounting: 1214
  financial: 1075
  accounts: 788
  state: 783
  company: 776
  city: 680
  management: 582
  name: 546
  accountant: 519
  reports: 475

🔹 Categoría: FINANCE
  financial: 1104
  company: 790
  management: 786
  finance: 751
  state: 744
  city: 691
  accounting: 648
  business: 604
  name: 544
  analysis: 435

🔹 Categoría: FITNESS
  state: 747
  fitness: 719
  city: 713
  company: 667
  name: 541
  customer: 494
  training: 476
  sales: 475
  management: 404
  service: 400

🔹 Categoría: AVIATION
  state: 645
  city: 604
  company: 532
  management: 524
  training: 475
  aviation: 471
  name: 440
  maintenance: 387
  aircraft: 359
  systems: 345

🔹 Categoría: SALES
  sales: 1330
  customer: 827
  company: 747
  state: 745
  city: 713
  customers: 597
  name: 543
  service: 534
  skills: 425
  management: 362
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_top_words_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">cat_col</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_classes</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">top_categories</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">nlargest</span><span class="p">(</span><span class="n">max_classes</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
    <span class="n">num_cols</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">num_rows</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">top_categories</span><span class="p">)</span> <span class="o">//</span> <span class="n">num_cols</span><span class="p">)</span>  <span class="c1"># ceil division</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">num_rows</span><span class="p">))</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">top_categories</span><span class="p">):</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">category</span><span class="p">]</span>
        <span class="n">words</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subset</span><span class="p">[</span><span class="n">col</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
        <span class="n">common</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="n">top_n</span><span class="p">)</span>
        <span class="n">words</span><span class="p">,</span> <span class="n">freqs</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">common</span><span class="p">)</span>

        <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">freqs</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">words</span><span class="p">),</span> <span class="n">palette</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#9c69c2&quot;</span><span class="p">,</span> <span class="s2">&quot;#D5C7EF&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># Ocultar ejes vacíos si hay menos de 5*n</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)):</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1"> palabras por categoría laboral&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_top_words_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">cat_col</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_classes</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/73d37cfde3e7806eec8ecf1236bb294d6ba87e9bb28372680bc553378e45654a.png" src="_images/73d37cfde3e7806eec8ecf1236bb294d6ba87e9bb28372680bc553378e45654a.png" />
</div>
</div>
<section id="ruido-estructural-y-palabras-de-lista-negra">
<h4>1.  Ruido Estructural y Palabras de Lista Negra<a class="headerlink" href="#ruido-estructural-y-palabras-de-lista-negra" title="Permalink to this heading">#</a></h4>
<p>Se observa un conjunto de palabras que aparecen con alta frecuencia en casi todas las categorías, lo que indica que podrían ser stopwords no eliminadas o términos estructurales comunes en los currículums. Estas palabras no aportan valor predictivo y deben considerarse para exclusión.</p>
<section id="terminos-de-ruido-estructurales-comunes">
<h5>Términos de Ruido/Estructurales Comunes<a class="headerlink" href="#terminos-de-ruido-estructurales-comunes" title="Permalink to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Término</p></th>
<th class="head"><p>Implicación Semántica</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">state</span></code>, <code class="docutils literal notranslate"><span class="pre">city</span></code>, <code class="docutils literal notranslate"><span class="pre">company</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>Probablemente residuales de direcciones, nombres de empleadores o plantillas de CV. No distinguen categorías.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">management</span></code>, <code class="docutils literal notranslate"><span class="pre">team</span></code></p></td>
<td><p>Aunque relevantes, su uso genérico en casi todas las categorías sugiere que no aportan discriminación técnica.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">customer</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code></p></td>
<td><p>Comunes en roles de servicio (Advocate, Fitness, Sales), pero también aparecen como ruido en otras categorías.</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Conclusión:</strong><br />
La limpieza inicial de stopwords fue incompleta. Es imperativo eliminar <code class="docutils literal notranslate"><span class="pre">state</span></code>, <code class="docutils literal notranslate"><span class="pre">city</span></code>, <code class="docutils literal notranslate"><span class="pre">company</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> y evaluar la exclusión de <code class="docutils literal notranslate"><span class="pre">management</span></code>, <code class="docutils literal notranslate"><span class="pre">customer</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code> para mejorar la señal semántica del corpus.</p>
</section>
</section>
<hr class="docutils" />
<section id="palabras-predictivas-y-distintivas-por-categoria">
<h4>2.  Palabras Predictivas y Distintivas por Categoría<a class="headerlink" href="#palabras-predictivas-y-distintivas-por-categoria" title="Permalink to this heading">#</a></h4>
<p>Estas palabras son altamente representativas de cada clase laboral y aportan valor para tareas de clasificación supervisada.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Categoría</p></th>
<th class="head"><p>Palabras Predictivas</p></th>
<th class="head"><p>Observación Semántica</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>INFORMATION-TECHNOLOGY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">information</span></code>, <code class="docutils literal notranslate"><span class="pre">technology</span></code>, <code class="docutils literal notranslate"><span class="pre">systems</span></code>, <code class="docutils literal notranslate"><span class="pre">support</span></code>, <code class="docutils literal notranslate"><span class="pre">network</span></code>, <code class="docutils literal notranslate"><span class="pre">system</span></code></p></td>
<td><p>Vocabulario clásico de TI, centrado en infraestructura y soporte.</p></td>
</tr>
<tr class="row-odd"><td><p>BUSINESS-DEVELOPMENT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sales</span></code>, <code class="docutils literal notranslate"><span class="pre">business</span></code>, <code class="docutils literal notranslate"><span class="pre">development</span></code>, <code class="docutils literal notranslate"><span class="pre">marketing</span></code>, <code class="docutils literal notranslate"><span class="pre">new</span></code></p></td>
<td><p>Énfasis en crecimiento comercial y ventas.</p></td>
</tr>
<tr class="row-even"><td><p>ADVOCATE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">customer</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code>, <code class="docutils literal notranslate"><span class="pre">skills</span></code></p></td>
<td><p>Foco en atención al cliente y habilidades blandas.</p></td>
</tr>
<tr class="row-odd"><td><p>CHEF</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">food</span></code>, <code class="docutils literal notranslate"><span class="pre">chef</span></code>, <code class="docutils literal notranslate"><span class="pre">kitchen</span></code>, <code class="docutils literal notranslate"><span class="pre">staff</span></code></p></td>
<td><p>Léxico de la industria alimentaria.</p></td>
</tr>
<tr class="row-even"><td><p>ENGINEERING</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">engineering</span></code>, <code class="docutils literal notranslate"><span class="pre">project</span></code>, <code class="docutils literal notranslate"><span class="pre">systems</span></code>, <code class="docutils literal notranslate"><span class="pre">design</span></code></p></td>
<td><p>Enfoque en procesos técnicos y diseño.</p></td>
</tr>
<tr class="row-odd"><td><p>ACCOUNTANT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">accounting</span></code>, <code class="docutils literal notranslate"><span class="pre">financial</span></code>, <code class="docutils literal notranslate"><span class="pre">accounts</span></code>, <code class="docutils literal notranslate"><span class="pre">accountant</span></code>, <code class="docutils literal notranslate"><span class="pre">reports</span></code></p></td>
<td><p>Vocabulario específico de contabilidad.</p></td>
</tr>
<tr class="row-even"><td><p>FINANCE</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">financial</span></code>, <code class="docutils literal notranslate"><span class="pre">finance</span></code>, <code class="docutils literal notranslate"><span class="pre">accounting</span></code>, <code class="docutils literal notranslate"><span class="pre">business</span></code>, <code class="docutils literal notranslate"><span class="pre">analysis</span></code></p></td>
<td><p>Similar a Accountant, con énfasis en estrategia y evaluación.</p></td>
</tr>
<tr class="row-odd"><td><p>FITNESS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">fitness</span></code>, <code class="docutils literal notranslate"><span class="pre">training</span></code>, <code class="docutils literal notranslate"><span class="pre">sales</span></code></p></td>
<td><p>Producto, servicio y venta de servicios.</p></td>
</tr>
<tr class="row-even"><td><p>AVIATION</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">training</span></code>, <code class="docutils literal notranslate"><span class="pre">aviation</span></code>, <code class="docutils literal notranslate"><span class="pre">maintenance</span></code>, <code class="docutils literal notranslate"><span class="pre">aircraft</span></code></p></td>
<td><p>Léxico técnico especializado del sector aeronáutico.</p></td>
</tr>
<tr class="row-odd"><td><p>SALES</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sales</span></code>, <code class="docutils literal notranslate"><span class="pre">customer</span></code>, <code class="docutils literal notranslate"><span class="pre">customers</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code>, <code class="docutils literal notranslate"><span class="pre">skills</span></code></p></td>
<td><p>Máxima concentración en ventas e interacción con clientes.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="n-gramas">
<h3>N-gramas<a class="headerlink" href="#n-gramas" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_top_ngrams_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;clean_text_final&#39;</span><span class="p">,</span> <span class="n">cat_col</span><span class="o">=</span><span class="s1">&#39;job_category&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    
    <span class="n">categories</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

    <span class="c1"># Iterar sobre cada categoría para crear una figura individual por categoría</span>
    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">categories</span><span class="p">:</span>
        <span class="c1"># Filtrar el DataFrame para la categoría actual</span>
        <span class="n">subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">cat_col</span><span class="p">]</span> <span class="o">==</span> <span class="n">category</span><span class="p">]</span>
        
        <span class="c1"># Unir el texto para el vectorizador</span>
        <span class="n">text_data</span> <span class="o">=</span> <span class="n">subset</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        
        <span class="c1"># Crear la figura con dos subplots en una fila (Bigramas y Trigramas)</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span> 
        
        <span class="c1"># Título principal de la figura</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;N-gramas Clave para la Categoría: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.02</span><span class="p">)</span>

        <span class="c1"># --- Subplot 1: Bigramas (n=2) ---</span>
        
        <span class="c1"># 1. Vectorizar y contar Bigramas</span>
        <span class="n">vectorizer_2</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">X_2</span> <span class="o">=</span> <span class="n">vectorizer_2</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">text_data</span><span class="p">)</span>
        <span class="n">ngram_counts_2</span> <span class="o">=</span> <span class="n">X_2</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="c1"># 2. Extraer y ordenar</span>
        <span class="n">ngrams_2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ngram</span><span class="p">,</span> <span class="n">ngram_counts_2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">idx</span><span class="p">])</span> <span class="k">for</span> <span class="n">ngram</span><span class="p">,</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">vectorizer_2</span><span class="o">.</span><span class="n">vocabulary_</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">sorted_ngrams_2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ngrams_2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="n">top_n</span><span class="p">]</span>
        
        <span class="c1"># 3. Preparar datos para el gráfico</span>
        <span class="n">labels_2</span><span class="p">,</span> <span class="n">freqs_2</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">sorted_ngrams_2</span><span class="p">)</span>
        
        <span class="c1"># 4. Gráfico de Bigramas</span>
        <span class="n">palette_2</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#9c69c2&quot;</span><span class="p">,</span> <span class="s2">&quot;#D5C7EF&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="n">top_n</span><span class="p">)</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">labels_2</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">freqs_2</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">labels_2</span><span class="p">),</span> <span class="n">palette</span><span class="o">=</span><span class="n">palette_2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1"> Bigramas (n=2)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Bigrama&#39;</span><span class="p">)</span>


        <span class="c1"># --- Subplot 2: Trigramas (n=3) ---</span>
        
        <span class="c1"># 1. Vectorizar y contar Trigramas</span>
        <span class="n">vectorizer_3</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="n">X_3</span> <span class="o">=</span> <span class="n">vectorizer_3</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">text_data</span><span class="p">)</span>
        <span class="n">ngram_counts_3</span> <span class="o">=</span> <span class="n">X_3</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        
        <span class="c1"># 2. Extraer y ordenar</span>
        <span class="n">ngrams_3</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ngram</span><span class="p">,</span> <span class="n">ngram_counts_3</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">idx</span><span class="p">])</span> <span class="k">for</span> <span class="n">ngram</span><span class="p">,</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">vectorizer_3</span><span class="o">.</span><span class="n">vocabulary_</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">sorted_ngrams_3</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ngrams_3</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="n">top_n</span><span class="p">]</span>
        
        <span class="c1"># 3. Preparar datos para el gráfico</span>
        <span class="n">labels_3</span><span class="p">,</span> <span class="n">freqs_3</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">sorted_ngrams_3</span><span class="p">)</span>
        
        <span class="c1"># 4. Gráfico de Trigramas</span>
        <span class="n">palette_3</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">blend_palette</span><span class="p">([</span><span class="s2">&quot;#CB88CF&quot;</span><span class="p">,</span> <span class="s2">&quot;#EEC1DE&quot;</span><span class="p">],</span> <span class="n">n_colors</span><span class="o">=</span><span class="n">top_n</span><span class="p">)</span> <span class="c1"># Nueva paleta para distinguirlos</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">labels_3</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">freqs_3</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">labels_3</span><span class="p">),</span> <span class="n">palette</span><span class="o">=</span><span class="n">palette_3</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1"> Trigramas (n=3)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Trigrama&#39;</span><span class="p">)</span>

        
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span> <span class="c1"># Ajustar para el suptitle</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="n">plot_top_ngrams_by_category</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0dd8c4f713dd6cad388905af8f21e99362d2f80cb58cb466b765dcc15095b519.png" src="_images/0dd8c4f713dd6cad388905af8f21e99362d2f80cb58cb466b765dcc15095b519.png" />
<img alt="_images/fa902ed29c7aa99ac6b403f1266571ba1277cebe57c8763586fa1033be92c215.png" src="_images/fa902ed29c7aa99ac6b403f1266571ba1277cebe57c8763586fa1033be92c215.png" />
<img alt="_images/dc888b03e29e32da73618a587766485c144ca055d7005e1db602876c7d2b8ce0.png" src="_images/dc888b03e29e32da73618a587766485c144ca055d7005e1db602876c7d2b8ce0.png" />
<img alt="_images/e3d93162488562f41fd9b981f8b5ed9fef2239907d0d42d57bcd90b1e757dc7a.png" src="_images/e3d93162488562f41fd9b981f8b5ed9fef2239907d0d42d57bcd90b1e757dc7a.png" />
<img alt="_images/a19268c7f281726140ab13d750408802931f6c20995befd8e74fccfc2d87da26.png" src="_images/a19268c7f281726140ab13d750408802931f6c20995befd8e74fccfc2d87da26.png" />
<img alt="_images/e2882148d07fc3956c266751abe5bccd1195adf2d6d32b6db62fc84a71ca5696.png" src="_images/e2882148d07fc3956c266751abe5bccd1195adf2d6d32b6db62fc84a71ca5696.png" />
<img alt="_images/134ea6113da596f32314eedb09f00b5d7d524f518896a9f5b60e94b0ae97a214.png" src="_images/134ea6113da596f32314eedb09f00b5d7d524f518896a9f5b60e94b0ae97a214.png" />
<img alt="_images/f136695aa8d8faf8f11121e5eb2f40f7820244f5559a73b1cc2156b26a3b621f.png" src="_images/f136695aa8d8faf8f11121e5eb2f40f7820244f5559a73b1cc2156b26a3b621f.png" />
<img alt="_images/4b5c984fba1fc5621c543b62b6986bb40668e5c2e68dbdd1cd9a322f4e024306.png" src="_images/4b5c984fba1fc5621c543b62b6986bb40668e5c2e68dbdd1cd9a322f4e024306.png" />
<img alt="_images/7a86eb7ba848555d8dfb815d56cad1e009dae238e532b13d8ab88d70d7c135d7.png" src="_images/7a86eb7ba848555d8dfb815d56cad1e009dae238e532b13d8ab88d70d7c135d7.png" />
<img alt="_images/483b5886d2450016bfdbf0a3601b449e127c74a0f1dbcef298e5564d17fd2c53.png" src="_images/483b5886d2450016bfdbf0a3601b449e127c74a0f1dbcef298e5564d17fd2c53.png" />
<img alt="_images/82c389f6620774ff2c4f7fffa9454ca95dba5a6e005d29caee4766073ae43f17.png" src="_images/82c389f6620774ff2c4f7fffa9454ca95dba5a6e005d29caee4766073ae43f17.png" />
<img alt="_images/648d9cb44aa5600026c1d63785603ad26a086a1b8648926378838e425f81f1cf.png" src="_images/648d9cb44aa5600026c1d63785603ad26a086a1b8648926378838e425f81f1cf.png" />
<img alt="_images/a1631760f7474266386f8923bc0270553ec0b89844568e314f8e4a4b274a7bc6.png" src="_images/a1631760f7474266386f8923bc0270553ec0b89844568e314f8e4a4b274a7bc6.png" />
<img alt="_images/4484407d2a174f3421f723e3ff6a06eba31cc16bbf4167881f46ac9f87b248dd.png" src="_images/4484407d2a174f3421f723e3ff6a06eba31cc16bbf4167881f46ac9f87b248dd.png" />
<img alt="_images/b9e24fbdcf62727e950ec9345087b24d5716d7fed8135e69078a4a77a9cf388f.png" src="_images/b9e24fbdcf62727e950ec9345087b24d5716d7fed8135e69078a4a77a9cf388f.png" />
<img alt="_images/ac6308f297fd8408f67ce2675bd0f0481b8c0d80a752e5be42fdffdc5756a06c.png" src="_images/ac6308f297fd8408f67ce2675bd0f0481b8c0d80a752e5be42fdffdc5756a06c.png" />
<img alt="_images/bcd82e6d5b6393a549066722eb583dad32544de6f28fa7383204bea1f22787d3.png" src="_images/bcd82e6d5b6393a549066722eb583dad32544de6f28fa7383204bea1f22787d3.png" />
<img alt="_images/7312f2612147b669636390e1a6b1ef0064d624f1a7bffe7995a8c7aab67568ce.png" src="_images/7312f2612147b669636390e1a6b1ef0064d624f1a7bffe7995a8c7aab67568ce.png" />
<img alt="_images/1ed058c1ef0def7aa935fd586a7eddafc26875be572abad458b5c9d06b912664.png" src="_images/1ed058c1ef0def7aa935fd586a7eddafc26875be572abad458b5c9d06b912664.png" />
<img alt="_images/49a2de1729dd26fc342a25804c2869561855607af5e61ad1c39e9b3310453145.png" src="_images/49a2de1729dd26fc342a25804c2869561855607af5e61ad1c39e9b3310453145.png" />
<img alt="_images/859182820ae250ee6551a466ed9cb0f808b7aa7d0aed3fa82be1c212abab8019.png" src="_images/859182820ae250ee6551a466ed9cb0f808b7aa7d0aed3fa82be1c212abab8019.png" />
<img alt="_images/5881b3774d1da804ad9525b6af6072d3b47247423672f39460596e1be49588e6.png" src="_images/5881b3774d1da804ad9525b6af6072d3b47247423672f39460596e1be49588e6.png" />
<img alt="_images/9f77645fc9b842fababa41decc9f2444629fdafd70c4dfcc0e83f9a72d00303a.png" src="_images/9f77645fc9b842fababa41decc9f2444629fdafd70c4dfcc0e83f9a72d00303a.png" />
</div>
</div>
<section id="conclusiones-clave-del-analisis-de-n-gramas">
<h4>Conclusiones Clave del Análisis de N-gramas<a class="headerlink" href="#conclusiones-clave-del-analisis-de-n-gramas" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Distinción Clara entre Categorías Relacionadas</p></li>
</ol>
<p>El análisis de N-gramas permitió diferenciar categorías que previamente mostraban solapamiento en el análisis de unigramas:</p>
<section id="accountant-vs-finance">
<h5>ACCOUNTANT vs. FINANCE<a class="headerlink" href="#accountant-vs-finance" title="Permalink to this heading">#</a></h5>
<ul class="simple">
<li><p><strong>ACCOUNTANT</strong> se centra en la ejecución operativa:<br />
<code class="docutils literal notranslate"><span class="pre">accounts</span> <span class="pre">payable</span></code>, <code class="docutils literal notranslate"><span class="pre">accounts</span> <span class="pre">receivable</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span> <span class="pre">end</span> <span class="pre">closing</span></code>, <code class="docutils literal notranslate"><span class="pre">journal</span> <span class="pre">entries</span></code>, <code class="docutils literal notranslate"><span class="pre">sales</span> <span class="pre">use</span> <span class="pre">tax</span></code>.</p></li>
<li><p><strong>FINANCE</strong> se enfoca en el reporte y la estrategia:<br />
<code class="docutils literal notranslate"><span class="pre">financial</span> <span class="pre">statements</span></code>, <code class="docutils literal notranslate"><span class="pre">general</span> <span class="pre">ledger</span></code>, <code class="docutils literal notranslate"><span class="pre">certified</span> <span class="pre">public</span> <span class="pre">accountant</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span> <span class="pre">end</span> <span class="pre">close</span></code>.</p></li>
</ul>
</section>
<section id="information-technology-vs-engineering">
<h5>INFORMATION-TECHNOLOGY vs. ENGINEERING<a class="headerlink" href="#information-technology-vs-engineering" title="Permalink to this heading">#</a></h5>
<ul class="simple">
<li><p><strong>INFORMATION-TECHNOLOGY</strong> se orienta a infraestructura y soporte:<br />
<code class="docutils literal notranslate"><span class="pre">active</span> <span class="pre">directory</span></code>, <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">desk</span></code>, <code class="docutils literal notranslate"><span class="pre">disaster</span> <span class="pre">recovery</span></code>, <code class="docutils literal notranslate"><span class="pre">local</span> <span class="pre">area</span> <span class="pre">network</span></code>.</p></li>
<li><p><strong>ENGINEERING</strong> se enfoca en desarrollo técnico y calidad:<br />
<code class="docutils literal notranslate"><span class="pre">mechanical</span> <span class="pre">engineering</span></code>, <code class="docutils literal notranslate"><span class="pre">statistical</span> <span class="pre">process</span> <span class="pre">control</span></code>, <code class="docutils literal notranslate"><span class="pre">root</span> <span class="pre">cause</span> <span class="pre">analysis</span></code>, <code class="docutils literal notranslate"><span class="pre">product</span> <span class="pre">development</span></code>.</p></li>
</ul>
<hr class="docutils" />
<ol class="arabic simple" start="2">
<li><p>Identificación de Habilidades Específicas</p></li>
</ol>
<p>Cada categoría laboral presenta un conjunto de N-gramas altamente predictivos que definen su “ADN de habilidades”:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Categoría</p></th>
<th class="head"><p>Bigrama/Trigrama Más Predictivo</p></th>
<th class="head"><p>Tipo de Habilidad</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HR</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">human</span> <span class="pre">resources</span></code>, <code class="docutils literal notranslate"><span class="pre">employee</span> <span class="pre">relations</span></code>, <code class="docutils literal notranslate"><span class="pre">policies</span> <span class="pre">procedures</span></code></p></td>
<td><p>Legal y de personal</p></td>
</tr>
<tr class="row-odd"><td><p>DESIGNER</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">graphic</span> <span class="pre">design</span></code>, <code class="docutils literal notranslate"><span class="pre">interior</span> <span class="pre">design</span></code>, <code class="docutils literal notranslate"><span class="pre">adobe</span> <span class="pre">creative</span> <span class="pre">suite</span></code></p></td>
<td><p>Herramientas y subdisciplina</p></td>
</tr>
<tr class="row-even"><td><p>TEACHER</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">lesson</span> <span class="pre">plans</span></code>, <code class="docutils literal notranslate"><span class="pre">special</span> <span class="pre">education</span></code>, <code class="docutils literal notranslate"><span class="pre">early</span> <span class="pre">childhood</span> <span class="pre">education</span></code></p></td>
<td><p>Metodología educativa y especialidad</p></td>
</tr>
<tr class="row-odd"><td><p>CHEF</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">executive</span> <span class="pre">chef</span></code>, <code class="docutils literal notranslate"><span class="pre">food</span> <span class="pre">preparation</span></code>, <code class="docutils literal notranslate"><span class="pre">proper</span> <span class="pre">food</span> <span class="pre">handling</span></code></p></td>
<td><p>Rango y seguridad alimentaria</p></td>
</tr>
<tr class="row-even"><td><p>FITNESS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">fitness</span></code>, <code class="docutils literal notranslate"><span class="pre">personal</span> <span class="pre">training</span></code>, <code class="docutils literal notranslate"><span class="pre">certified</span> <span class="pre">personal</span> <span class="pre">trainer</span></code></p></td>
<td><p>Certificación y tipo de servicio</p></td>
</tr>
<tr class="row-odd"><td><p>PUBLIC-RELATIONS</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">relations</span></code>, <code class="docutils literal notranslate"><span class="pre">social</span> <span class="pre">media</span></code>, <code class="docutils literal notranslate"><span class="pre">press</span> <span class="pre">releases</span></code></p></td>
<td><p>Tácticas de comunicación</p></td>
</tr>
<tr class="row-even"><td><p>AVIATION</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">aviation</span> <span class="pre">maintenance</span></code>, <code class="docutils literal notranslate"><span class="pre">lean</span> <span class="pre">six</span> <span class="pre">sigma</span></code>, <code class="docutils literal notranslate"><span class="pre">security</span> <span class="pre">clearance</span></code></p></td>
<td><p>Especialización y certificaciones</p></td>
</tr>
<tr class="row-odd"><td><p>BPO</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">quality</span> <span class="pre">assurance</span></code>, <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">center</span></code>, <code class="docutils literal notranslate"><span class="pre">subject</span> <span class="pre">matter</span> <span class="pre">expert</span></code></p></td>
<td><p>Terminología de servicio tercerizado</p></td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<ol class="arabic simple" start="3">
<li><p>Detección de Ruido Residual o Genérico</p></li>
</ol>
<p>A pesar de la limpieza inicial, persisten algunos N-gramas estructurales o genéricos que deben filtrarse antes del modelado, especialmente en enfoques como TF-IDF o Word2Vec:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>N-grama</p></th>
<th class="head"><p>Impacto</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">high</span> <span class="pre">school</span></code>, <code class="docutils literal notranslate"><span class="pre">high</span> <span class="pre">school</span> <span class="pre">diploma</span></code></p></td>
<td><p>Aparece en roles menos técnicos y CVs de entrada. Es un proxy de nivel educativo.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">microsoft</span> <span class="pre">office</span></code>, <code class="docutils literal notranslate"><span class="pre">microsoft</span> <span class="pre">office</span> <span class="pre">suite</span></code></p></td>
<td><p>Habilidad universal, no distintiva. Presente en casi todas las categorías.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bachelor</span> <span class="pre">science</span></code>, <code class="docutils literal notranslate"><span class="pre">bachelor</span> <span class="pre">arts</span></code></p></td>
<td><p>Términos genéricos de educación que no distinguen categoría.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">problem</span> <span class="pre">solving</span></code></p></td>
<td><p>Habilidad blanda genérica, presente en múltiples categorías.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tokenizacion-y-vectoriacion">
<h1><strong>Tokenización y Vectoriación</strong><a class="headerlink" href="#tokenizacion-y-vectoriacion" title="Permalink to this heading">#</a></h1>
<p>En este apartado se describen las estrategias implementadas para preparar los CVs para el entrenamiento de modelos de clasificación, incluyendo mitigación de ruido, manejo de desbalance, tokenización y vectorización controlada.</p>
<section id="manejo-del-desbalance-de-clases-data-augmentation">
<h2>1. Manejo del Desbalance de Clases (Data Augmentation)<a class="headerlink" href="#manejo-del-desbalance-de-clases-data-augmentation" title="Permalink to this heading">#</a></h2>
<p>La distribución inicial de categorías mostró que algunas clases (como <strong>BPO</strong>, <strong>AUTOMOBILE</strong>, <strong>AGRICULTURE</strong>) estaban subrepresentadas, lo que podría introducir sesgo en el modelo.</p>
<p><strong>Método:</strong> Aumento de datos selectivo usando la librería <code class="docutils literal notranslate"><span class="pre">nlpaug</span></code>.</p>
<p><strong>Estrategia:</strong></p>
<ul class="simple">
<li><p>Se identificaron las clases minoritarias (con menos del 80% del tamaño promedio de clase).</p></li>
<li><p>Se aplicaron técnicas de aumento de datos:</p>
<ul>
<li><p><strong>SynonymAug:</strong> Reemplazo de palabras por sinónimos de WordNet (inglés), alterando ligeramente el significado sin cambiar el contexto.</p></li>
<li><p><strong>RandomWordAug (Swap):</strong> Intercambio aleatorio de palabras para introducir variaciones sintácticas.</p></li>
</ul>
</li>
</ul>
<p><strong>Resultado:</strong></p>
<ul class="simple">
<li><p>Dataset final balanceado (up-sampling) para mejorar el rendimiento en categorías minoritarias.</p></li>
</ul>
</section>
<section id="division-estratificada-y-prevencion-de-data-leakage">
<h2>2. División Estratificada y Prevención de Data Leakage<a class="headerlink" href="#division-estratificada-y-prevencion-de-data-leakage" title="Permalink to this heading">#</a></h2>
<p>Se garantizó una evaluación confiable mediante una división rigurosa de los datos.</p>
<ul class="simple">
<li><p><strong>División Proporcional:</strong> 70% Train, 15% Validation, 15% Test.</p></li>
<li><p><strong>Estratificación:</strong> <code class="docutils literal notranslate"><span class="pre">stratify=Y_labels</span></code> en <code class="docutils literal notranslate"><span class="pre">train_test_split</span></code> para mantener la proporción de las 24 categorías laborales.</p></li>
<li><p><strong>Separación Rigurosa:</strong> Los datos de prueba (<code class="docutils literal notranslate"><span class="pre">X_test</span></code>) se guardaron en <code class="docutils literal notranslate"><span class="pre">X_test_texts.pkl</span></code> y se utilizaron únicamente en la evaluación final.</p></li>
</ul>
</section>
<section id="estrategia-de-mitigacion-de-ruido-y-control-de-frecuencia">
<h2>3. Estrategia de Mitigación de Ruido y Control de Frecuencia<a class="headerlink" href="#estrategia-de-mitigacion-de-ruido-y-control-de-frecuencia" title="Permalink to this heading">#</a></h2>
<p>Se implementó un control de vocabulario y frecuencia según el tipo de modelo:</p>
<section id="a-modelos-basados-en-frecuencia-tf-idf-xgboost">
<h3>A. Modelos Basados en Frecuencia (TF-IDF + XGBoost)<a class="headerlink" href="#a-modelos-basados-en-frecuencia-tf-idf-xgboost" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>N-gramas y Vocabulario:</strong> <code class="docutils literal notranslate"><span class="pre">ngram_range=(1,</span> <span class="pre">3)</span></code>, <code class="docutils literal notranslate"><span class="pre">max_features=25000</span></code>.</p></li>
<li><p><strong>Control de Ruido Residual:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">max_df</span> <span class="pre">=</span> <span class="pre">0.95</span></code> → ignora N-gramas presentes en &gt;95% de los CVs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_df</span> <span class="pre">=</span> <span class="pre">5</span></code> → elimina términos de baja frecuencia y typos.</p></li>
</ul>
</li>
</ul>
</section>
<section id="b-modelos-de-deep-learning-bilstm-cnn-1d">
<h3>B. Modelos de Deep Learning (BiLSTM / CNN-1D)<a class="headerlink" href="#b-modelos-de-deep-learning-bilstm-cnn-1d" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Longitud Máxima de Secuencia:</strong> <code class="docutils literal notranslate"><span class="pre">MAX_LEN</span> <span class="pre">=</span> <span class="pre">1200</span></code>, justificada por el análisis de conteo de palabras.</p></li>
<li><p><strong>Control de Vocabulario:</strong> <code class="docutils literal notranslate"><span class="pre">num_words</span> <span class="pre">=</span> <span class="pre">15000</span></code> para limitar el vocabulario a las palabras más frecuentes, filtrando ruido de baja frecuencia.</p></li>
<li><p><strong>Gestión de Alta Frecuencia:</strong> La capa <code class="docutils literal notranslate"><span class="pre">Embedding</span></code> aprende representaciones semánticas que reducen la influencia de términos estructurales comunes sin eliminarlos.</p></li>
</ul>
</section>
<section id="c-modelos-basados-en-transformers-distilbert-roberta">
<h3>C. Modelos Basados en Transformers (DistilBERT / RoBERTa)<a class="headerlink" href="#c-modelos-basados-en-transformers-distilbert-roberta" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Tokenización Pre-entrenada:</strong> Subpalabras mediante <code class="docutils literal notranslate"><span class="pre">Hugging</span> <span class="pre">Face</span> <span class="pre">Tokenizer</span></code>.</p></li>
<li><p><strong>Longitud Máxima:</strong> <code class="docutils literal notranslate"><span class="pre">MAX_LEN_HF</span> <span class="pre">=</span> <span class="pre">512</span></code> con truncamiento y padding automáticos.</p></li>
<li><p><strong>Manejo de Ruido:</strong> El modelo ya aprendió durante el pre-entrenamiento la baja importancia discriminatoria de términos genéricos.</p></li>
</ul>
</section>
</section>
<section id="vectorizacion-modular-y-pipeline-controlado">
<h2>4. Vectorización Modular y Pipeline Controlado<a class="headerlink" href="#vectorizacion-modular-y-pipeline-controlado" title="Permalink to this heading">#</a></h2>
<p>Se utilizó la función <code class="docutils literal notranslate"><span class="pre">vectorize_data_by_model</span></code> para centralizar la preparación de datos para todos los modelos, asegurando:</p>
<ul class="simple">
<li><p>Cada modelo recibe el formato de datos óptimo.</p></li>
<li><p>Aprendizaje de vocabulario/pesos solo en el conjunto de entrenamiento.</p></li>
<li><p>Validación de resultados libre de fugas de información (Data Leakage).</p></li>
<li><p>Cumplimiento de requisitos específicos de cada modelo, incluyendo mitigación de ruido y manejo de frecuencia.</p></li>
</ul>
<p>El tipo de tokenización y representación textual depende directamente del modelo de machine learning o deep learning que se utilice. A continuación se detallan los enfoques aplicados para BiLSTM/CNN-1D, XGBoost y Transformers como DistilBERT.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.sparse</span><span class="w"> </span><span class="kn">import</span> <span class="n">save_npz</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">nlpaug.augmenter.word</span><span class="w"> </span><span class="kn">import</span> <span class="n">SynonymAug</span><span class="p">,</span> <span class="n">RandomWordAug</span>

<span class="c1"># HuggingFace y Keras</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">transformers</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoTokenizer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tensorflow.keras.preprocessing.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tokenizer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tensorflow.keras.preprocessing.sequence</span><span class="w"> </span><span class="kn">import</span> <span class="n">pad_sequences</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tensorflow.keras.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">to_categorical</span> 


<span class="n">df</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;job_category&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>
<span class="n">category_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;job_category&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">categories</span><span class="p">))</span>


<span class="n">X_text</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">Y_labels</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>


<span class="c1"># 2.5. Data Augmentation (solo clases minoritarias)</span>

<span class="n">aug_syn</span> <span class="o">=</span> <span class="n">SynonymAug</span><span class="p">(</span><span class="n">aug_src</span><span class="o">=</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>     
<span class="n">aug_swap</span> <span class="o">=</span> <span class="n">RandomWordAug</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">&quot;swap&quot;</span><span class="p">)</span>     

<span class="n">class_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">Y_labels</span><span class="p">)</span>
<span class="n">avg_class_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">class_counts</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

<span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">avg_class_size</span>
<span class="n">minority_classes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span> <span class="k">for</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">class_counts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Clases minoritarias detectadas: </span><span class="si">{</span><span class="n">minority_classes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">X_augmented</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">Y_augmented</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">minority_classes</span><span class="p">:</span>

    <span class="n">class_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Y_labels</span><span class="p">)</span> <span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="bp">cls</span><span class="p">]</span>
    <span class="n">class_texts</span> <span class="o">=</span> <span class="p">[</span><span class="n">X_text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">class_indices</span><span class="p">]</span>

    <span class="n">num_to_augment</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">avg_class_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">class_texts</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Clase </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">class_texts</span><span class="p">)</span><span class="si">}</span><span class="s2"> → </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">class_texts</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num_to_augment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">num_to_augment</span><span class="p">),</span> <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Aumentando clase </span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">class_texts</span><span class="p">)</span>
        <span class="n">text_aug</span> <span class="o">=</span> <span class="n">aug_syn</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text_aug</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">text_aug</span> <span class="o">=</span> <span class="n">text_aug</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">text_aug</span> <span class="o">=</span> <span class="n">aug_swap</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">text_aug</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text_aug</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">text_aug</span> <span class="o">=</span> <span class="n">text_aug</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">Y_augmented</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">X_augmented</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text_aug</span><span class="p">)</span>

<span class="n">X_text</span> <span class="o">+=</span> <span class="n">X_augmented</span>
<span class="n">Y_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">Y_labels</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Y_augmented</span><span class="p">)])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Aumento finalizado. Dataset total: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_text</span><span class="p">)</span><span class="si">}</span><span class="s2"> textos.&quot;</span><span class="p">)</span>

<span class="n">X_text</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">X_text</span><span class="p">]</span>



<span class="c1"># 3. División Train, Validation, Test</span>
<span class="n">TEST_SIZE</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">VAL_SIZE</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">RANDOM_SEED</span> <span class="o">=</span> <span class="mi">42</span>

<span class="n">X_train_val</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">Y_train_val</span><span class="p">,</span> <span class="n">Y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_text</span><span class="p">,</span> <span class="n">Y_labels</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="n">TEST_SIZE</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_SEED</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">Y_labels</span>
<span class="p">)</span>

<span class="n">val_fraction</span> <span class="o">=</span> <span class="n">VAL_SIZE</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">TEST_SIZE</span><span class="p">)</span> 
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_val</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">,</span> <span class="n">Y_val</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_train_val</span><span class="p">,</span> <span class="n">Y_train_val</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="n">val_fraction</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_SEED</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">Y_train_val</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Train: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span><span class="si">}</span><span class="s2"> | Val: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span><span class="si">}</span><span class="s2"> | Test: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Codificación One-Hot de etiquetas para modelos DL (BiLSTM/CNN-1D)</span>
<span class="n">NUM_CLASSES</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">category_map</span><span class="p">)</span>
<span class="n">Y_train_oh</span> <span class="o">=</span> <span class="n">to_categorical</span><span class="p">(</span><span class="n">Y_train</span><span class="p">,</span> <span class="n">num_classes</span><span class="o">=</span><span class="n">NUM_CLASSES</span><span class="p">)</span>
<span class="n">Y_val_oh</span> <span class="o">=</span> <span class="n">to_categorical</span><span class="p">(</span><span class="n">Y_val</span><span class="p">,</span> <span class="n">num_classes</span><span class="o">=</span><span class="n">NUM_CLASSES</span><span class="p">)</span>
<span class="n">Y_test_oh</span> <span class="o">=</span> <span class="n">to_categorical</span><span class="p">(</span><span class="n">Y_test</span><span class="p">,</span> <span class="n">num_classes</span><span class="o">=</span><span class="n">NUM_CLASSES</span><span class="p">)</span>



<span class="c1">#-----------------------</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;processed_data/X_test_texts.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Textos originales de test guardados en &#39;processed_data/X_test_texts.pkl&#39;&quot;</span><span class="p">)</span>

<span class="c1"># 4. Crear carpeta de salida</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;processed_data&quot;</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Carpeta &#39;processed_data&#39; creada.&quot;</span><span class="p">)</span>

<span class="c1"># 5. Tokenización y vectorización por modelo</span>
<span class="k">def</span><span class="w"> </span><span class="nf">vectorize_data_by_model</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_val</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">,</span> <span class="n">Y_val</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">,</span> <span class="n">Y_train_oh</span><span class="p">,</span> <span class="n">Y_val_oh</span><span class="p">,</span> <span class="n">Y_test_oh</span><span class="p">,</span> <span class="n">category_map</span><span class="p">,</span> <span class="n">modelo</span><span class="p">):</span>
    
    <span class="c1"># 1. BiLSTM / CNN-1D (Tokenización Keras y Padding)</span>
    <span class="k">if</span> <span class="n">modelo</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;word2vec_bilstm&quot;</span><span class="p">,</span> <span class="s2">&quot;cnn_1d&quot;</span><span class="p">]:</span>
        <span class="n">MAX_LEN</span> <span class="o">=</span> <span class="mi">1200</span>
        <span class="n">MAX_WORDS</span> <span class="o">=</span> <span class="mi">15000</span> 
        
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">Tokenizer</span><span class="p">(</span><span class="n">num_words</span><span class="o">=</span><span class="n">MAX_WORDS</span><span class="p">,</span> <span class="n">oov_token</span><span class="o">=</span><span class="s2">&quot;&lt;unk&gt;&quot;</span><span class="p">)</span>
        <span class="n">tokenizer</span><span class="o">.</span><span class="n">fit_on_texts</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span> 

        <span class="n">X_train_seq</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">texts_to_sequences</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
        <span class="n">X_val_seq</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">texts_to_sequences</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span>
        <span class="n">X_test_seq</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">texts_to_sequences</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    
        <span class="n">X_train_padded</span> <span class="o">=</span> <span class="n">pad_sequences</span><span class="p">(</span><span class="n">X_train_seq</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="n">MAX_LEN</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="n">truncating</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">)</span>
        <span class="n">X_val_padded</span> <span class="o">=</span> <span class="n">pad_sequences</span><span class="p">(</span><span class="n">X_val_seq</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="n">MAX_LEN</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="n">truncating</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">)</span>
        <span class="n">X_test_padded</span> <span class="o">=</span> <span class="n">pad_sequences</span><span class="p">(</span><span class="n">X_test_seq</span><span class="p">,</span> <span class="n">maxlen</span><span class="o">=</span><span class="n">MAX_LEN</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="n">truncating</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">)</span>

        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_train.npz&quot;</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="n">X_train_padded</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y_train_oh</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_val.npz&quot;</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="n">X_val_padded</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y_val_oh</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_test.npz&quot;</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="n">X_test_padded</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y_test_oh</span><span class="p">)</span>
        
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_tokenizer.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tokenizer</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2"> (Keras) tokenizado y guardado. MAX_LEN: </span><span class="si">{</span><span class="n">MAX_LEN</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>



    <span class="c1"># 2. TF-IDF + XGBoost (Vectorización de Frecuencia/Importancia)</span>
    <span class="k">elif</span> <span class="n">modelo</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;tfidf_xgboost&quot;</span><span class="p">:</span>
        
        <span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="mi">25000</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> 
        
        <span class="n">X_train_tfidf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
     
        <span class="n">X_val_tfidf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span>
        <span class="n">X_test_tfidf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

        <span class="n">save_npz</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_train_X.npz&quot;</span><span class="p">,</span> <span class="n">X_train_tfidf</span><span class="p">)</span>
        <span class="n">save_npz</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_val_X.npz&quot;</span><span class="p">,</span> <span class="n">X_val_tfidf</span><span class="p">)</span>
        <span class="n">save_npz</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_test_X.npz&quot;</span><span class="p">,</span> <span class="n">X_test_tfidf</span><span class="p">)</span>
        
        <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_train_y.npy&quot;</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_val_y.npy&quot;</span><span class="p">,</span> <span class="n">Y_val</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_test_y.npy&quot;</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_vectorizer.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">vectorizer</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2"> vectorizado y guardado. Max Features: 25k&quot;</span><span class="p">)</span>


    <span class="c1"># 3. Transformers (DistilBERT / RoBERTa)</span>
    <span class="k">elif</span> <span class="n">modelo</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;distilbert&quot;</span><span class="p">,</span> <span class="s2">&quot;roberta&quot;</span><span class="p">]:</span>
        <span class="n">model_name</span> <span class="o">=</span> <span class="s2">&quot;distilbert-base-uncased&quot;</span> <span class="k">if</span> <span class="n">modelo</span> <span class="o">==</span> <span class="s2">&quot;distilbert&quot;</span> <span class="k">else</span> <span class="s2">&quot;roberta-base&quot;</span>
        <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>
        <span class="n">MAX_LEN_HF</span> <span class="o">=</span> <span class="mi">512</span> 

        <span class="k">def</span><span class="w"> </span><span class="nf">encode_set</span><span class="p">(</span><span class="n">X_set</span><span class="p">,</span> <span class="n">Y_set</span><span class="p">):</span>
            <span class="n">encodings</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="p">(</span>
                <span class="n">X_set</span><span class="p">,</span>
                <span class="n">truncation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;max_length&#39;</span><span class="p">,</span>
                <span class="n">max_length</span><span class="o">=</span><span class="n">MAX_LEN_HF</span><span class="p">,</span>
                <span class="n">return_tensors</span><span class="o">=</span><span class="s2">&quot;np&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">encodings</span><span class="p">[</span><span class="s2">&quot;input_ids&quot;</span><span class="p">],</span> <span class="n">encodings</span><span class="p">[</span><span class="s2">&quot;attention_mask&quot;</span><span class="p">],</span> <span class="n">Y_set</span>

        <span class="n">X_train_ids</span><span class="p">,</span> <span class="n">X_train_mask</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">encode_set</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">)</span>
        <span class="n">X_val_ids</span><span class="p">,</span> <span class="n">X_val_mask</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">encode_set</span><span class="p">(</span><span class="n">X_val</span><span class="p">,</span> <span class="n">Y_val</span><span class="p">)</span>
        <span class="n">X_test_ids</span><span class="p">,</span> <span class="n">X_test_mask</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">encode_set</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">)</span>
        

        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_train.npz&quot;</span><span class="p">,</span> <span class="n">input_ids</span><span class="o">=</span><span class="n">X_train_ids</span><span class="p">,</span> <span class="n">attention_mask</span><span class="o">=</span><span class="n">X_train_mask</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">Y_train</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_val.npz&quot;</span><span class="p">,</span> <span class="n">input_ids</span><span class="o">=</span><span class="n">X_val_ids</span><span class="p">,</span> <span class="n">attention_mask</span><span class="o">=</span><span class="n">X_val_mask</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">Y_val</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">savez_compressed</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_test.npz&quot;</span><span class="p">,</span> <span class="n">input_ids</span><span class="o">=</span><span class="n">X_test_ids</span><span class="p">,</span> <span class="n">attention_mask</span><span class="o">=</span><span class="n">X_test_mask</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">Y_test</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2"> tokenizado y guardado. Max Length: </span><span class="si">{</span><span class="n">MAX_LEN_HF</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        
    <span class="c1"># 4. FastText </span>
    <span class="k">elif</span> <span class="n">modelo</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;fasttext&quot;</span><span class="p">:</span>
        
        <span class="k">def</span><span class="w"> </span><span class="nf">write_fasttext_file</span><span class="p">(</span><span class="n">X_set</span><span class="p">,</span> <span class="n">Y_set_num</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
            <span class="n">path_txt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;processed_data/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_txt</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">label_num</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">X_set</span><span class="p">,</span> <span class="n">Y_set_num</span><span class="p">):</span>
                    <span class="n">original_label</span> <span class="o">=</span> <span class="n">category_map</span><span class="p">[</span><span class="n">label_num</span><span class="p">]</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;__label__</span><span class="si">{</span><span class="n">original_label</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">path_txt</span>

        <span class="n">path_train</span> <span class="o">=</span> <span class="n">write_fasttext_file</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">,</span> <span class="s2">&quot;fasttext_train.txt&quot;</span><span class="p">)</span>
        <span class="n">path_val</span> <span class="o">=</span> <span class="n">write_fasttext_file</span><span class="p">(</span><span class="n">X_val</span><span class="p">,</span> <span class="n">Y_val</span><span class="p">,</span> <span class="s2">&quot;fasttext_val.txt&quot;</span><span class="p">)</span>
        <span class="n">path_test</span> <span class="o">=</span> <span class="n">write_fasttext_file</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">,</span> <span class="s2">&quot;fasttext_test.txt&quot;</span><span class="p">)</span>

        
        <span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;processed_data/fasttext_test_y.npy&quot;</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; FastText formato guardado en </span><span class="si">{</span><span class="n">path_train</span><span class="si">}</span><span class="s2"> y </span><span class="si">{</span><span class="n">path_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># 6. Ejecutar el pipeline de vectorización</span>
<span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;distilbert&quot;</span><span class="p">,</span> <span class="s2">&quot;roberta&quot;</span><span class="p">,</span> <span class="s2">&quot;word2vec_bilstm&quot;</span><span class="p">,</span> <span class="s2">&quot;cnn_1d&quot;</span><span class="p">,</span> <span class="s2">&quot;tfidf_xgboost&quot;</span><span class="p">,</span> <span class="s2">&quot;fasttext&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">modelos</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Procesando modelos&quot;</span><span class="p">):</span>
    <span class="n">vectorize_data_by_model</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_val</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">Y_train</span><span class="p">,</span> <span class="n">Y_val</span><span class="p">,</span> <span class="n">Y_test</span><span class="p">,</span> <span class="n">Y_train_oh</span><span class="p">,</span> <span class="n">Y_val_oh</span><span class="p">,</span> <span class="n">Y_test_oh</span><span class="p">,</span> <span class="n">category_map</span><span class="p">,</span> <span class="n">modelo</span><span class="o">=</span><span class="n">modelo</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> ¡Vectorización completa! Todos los datos están listos para el Modelado.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-10-28 19:47:58.350365: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
2025-10-28 19:47:58.561498: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 AVX512F AVX512_VNNI AVX512_BF16 AVX_VNNI FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
2025-10-28 19:47:59.951860: I tensorflow/core/util/port.cc:153] oneDNN custom operations are on. You may see slightly different numerical results due to floating-point round-off errors from different computation orders. To turn them off, set the environment variable `TF_ENABLE_ONEDNN_OPTS=0`.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>🧩 Clases minoritarias detectadas: [2, 8, 5]
📈 Clase 2: 63 → 103
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Aumentando clase 2: 100%|██████████| 40/40 [00:00&lt;00:00, 81.31it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📈 Clase 8: 22 → 103
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Aumentando clase 8: 100%|██████████| 81/81 [00:03&lt;00:00, 22.88it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📈 Clase 5: 36 → 103
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Aumentando clase 5: 100%|██████████| 67/67 [00:00&lt;00:00, 81.16it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Aumento finalizado. Dataset total: 2671 textos.
Train: 1869 | Val: 401 | Test: 401
✅ Textos originales de test guardados en &#39;processed_data/X_test_texts.pkl&#39;
Carpeta &#39;processed_data&#39; creada.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Procesando modelos:  17%|█▋        | 1/6 [00:01&lt;00:08,  1.71s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ distilbert tokenizado y guardado. Max Length: 512
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Procesando modelos:  33%|███▎      | 2/6 [00:02&lt;00:05,  1.46s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ roberta tokenizado y guardado. Max Length: 512
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Procesando modelos:  50%|█████     | 3/6 [00:03&lt;00:03,  1.17s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ word2vec_bilstm (Keras) tokenizado y guardado. MAX_LEN: 1200
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Procesando modelos:  67%|██████▋   | 4/6 [00:04&lt;00:02,  1.04s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ cnn_1d (Keras) tokenizado y guardado. MAX_LEN: 1200
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Procesando modelos: 100%|██████████| 6/6 [00:08&lt;00:00,  1.48s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ tfidf_xgboost vectorizado y guardado. Max Features: 25k
✅ FastText formato guardado en processed_data/fasttext_train.txt y processed_data/fasttext_val.txt

 ¡Vectorización completa! Todos los datos están listos para el Modelado.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to your Jupyter Book</p>
      </div>
    </a>
    <a class="right-next"
       href="modelado.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><strong>Modelado</strong></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Análisis exploratorio de Datos</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#librerias">Librerías</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sobre-el-dataset">Sobre el dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#valores-faltantes">Valores faltantes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-distribucion-de-clases">Análisis de Distribución de Clases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conteo-y-longitudes-de-texto">Conteo y longitudes de texto</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-de-caracteres">Longitud de Caracteres</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conteo-de-palabras">Conteo de Palabras</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-media-de-palabra">Longitud Media de Palabra</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longitud-media-de-oraciones">Longitud media de oraciones</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observaciones-sobre-las-caracteristicas-de-los-textos">Observaciones sobre las características de los textos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion-general">Conclusión general</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-frecuencia-de-terminos">Análisis de Frecuencia de Términos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento-de-texto-basico-inicial">Preprocesamiento de texto básico inicial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#palabras-mas-frecuentes-top-n">Palabras más Frecuentes (Top N)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#word-clouds">Word Clouds</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#frecuencia-por-clase">Frecuencia por Clase</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ruido-estructural-y-palabras-de-lista-negra">1.  Ruido Estructural y Palabras de Lista Negra</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#terminos-de-ruido-estructurales-comunes">Términos de Ruido/Estructurales Comunes</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#palabras-predictivas-y-distintivas-por-categoria">2.  Palabras Predictivas y Distintivas por Categoría</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#n-gramas">N-gramas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusiones-clave-del-analisis-de-n-gramas">Conclusiones Clave del Análisis de N-gramas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#accountant-vs-finance">ACCOUNTANT vs. FINANCE</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#information-technology-vs-engineering">INFORMATION-TECHNOLOGY vs. ENGINEERING</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tokenizacion-y-vectoriacion"><strong>Tokenización y Vectoriación</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manejo-del-desbalance-de-clases-data-augmentation">1. Manejo del Desbalance de Clases (Data Augmentation)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#division-estratificada-y-prevencion-de-data-leakage">2. División Estratificada y Prevención de Data Leakage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategia-de-mitigacion-de-ruido-y-control-de-frecuencia">3. Estrategia de Mitigación de Ruido y Control de Frecuencia</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-modelos-basados-en-frecuencia-tf-idf-xgboost">A. Modelos Basados en Frecuencia (TF-IDF + XGBoost)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#b-modelos-de-deep-learning-bilstm-cnn-1d">B. Modelos de Deep Learning (BiLSTM / CNN-1D)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#c-modelos-basados-en-transformers-distilbert-roberta">C. Modelos Basados en Transformers (DistilBERT / RoBERTa)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vectorizacion-modular-y-pipeline-controlado">4. Vectorización Modular y Pipeline Controlado</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>